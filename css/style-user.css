/* Стилизуем текст меню вместо кнопки */
.menu-text {
  cursor: pointer;
  font-family: Arial, sans-serif;
  font-size: 14px;
  color: #1A1E21; /* было #000 */
  text-decoration: none;
}
.menu-text:hover,
.menu-text:focus-visible {
  text-decoration: underline;
  text-underline-offset: .2rem;
  text-decoration-thickness: 1px;
}

/* Если "Меню" — это .btn.btn-link.menu-text: убираем синий цвет Bootstrap */
.btn.menu-text {
  color: #1A1E21;
  --bs-btn-color: #1A1E21;         /* текст */
  --bs-btn-hover-color: #1A1E21;   /* hover */
  --bs-btn-active-color: #1A1E21;  /* active */
  --bs-btn-focus-shadow-rgb: 26,30,33; /* серое кольцо фокуса вместо синего */
}
.btn.menu-text:hover,
.btn.menu-text:focus,
.btn.menu-text:focus-visible {
  color: #1A1E21;
}

/* Параграфы */
p {
  font-family: Arial, sans-serif;
  font-size: 14px;
}

/* Базовый стек без !important и без глобального селектора */
html, body { font-family: Arial, "Helvetica Neue", Helvetica, Roboto, system-ui, -apple-system, "Segoe UI", sans-serif; }

/* Визуальные размеры заголовков без изменения семантики */
h1#page-title { font-size: 1.75rem; line-height: 1.25; } /* ~h3 */
h2 { font-size: 1.5rem; line-height: 1.3; }              /* ~h4 */

/* Аккордеон: без синего фона и тени */
.accordion-button:focus,
.accordion-button:not(.collapsed) {
  box-shadow: none;
  background-color: transparent;
  border-color: transparent;
}

/* Текст в аккордеоне */
.accordion-text-user {
  font-family: Arial, sans-serif;
  font-size: 14px;
  color: #1A1E21; /* было #000 */
}

/* Вспомогательное */
.octicon { display: inline-block; vertical-align: text-top; fill: currentColor; }
.gist .blob-code { white-space: pre-wrap !important; word-break: break-word; }

.text-menu {
  font-family: Arial, sans-serif;
  font-size: 15px;
}

/* ===== Offcanvas → подменю: только подчёркивание, без заливки и без смены яркости ===== */
#offcanvasNavbar .dropdown-menu {
  /* блокируем стандартные цвета Bootstrap и задаём единый тон */
  --bs-dropdown-link-color: #1A1E21;        /* было #000 */
  --bs-dropdown-link-hover-color: #1A1E21;  /* было #000 */
  --bs-dropdown-link-hover-bg: transparent;
  --bs-dropdown-link-active-color: #1A1E21; /* было #000 */
  --bs-dropdown-link-active-bg: transparent;
}

#offcanvasNavbar .dropdown-menu .dropdown-item {
  color: #1A1E21; /* было #000 */
  text-decoration: none;
  background-color: transparent;
}

#offcanvasNavbar .dropdown-menu .dropdown-item:hover,
#offcanvasNavbar .dropdown-menu .dropdown-item:focus,
#offcanvasNavbar .dropdown-menu .dropdown-item:active,
#offcanvasNavbar .dropdown-menu .dropdown-item.active,
#offcanvasNavbar .dropdown-menu .dropdown-item:focus-visible {
  color: #1A1E21; /* было #000 */
  background-color: transparent;
  text-decoration: underline;
  text-underline-offset: .2rem;
  text-decoration-thickness: 1px;
}

/* ===== Ссылки в тексте =====
   Используй класс .text-link на тексте статьи: <a class="text-link" ...> */
a.text-link {
  color: #1A1E21; /* было #000 */
  text-decoration: none;
}
a.text-link:hover,
a.text-link:focus-visible {
  text-decoration: underline;
  text-underline-offset: .2rem;
  text-decoration-thickness: 1px;
}

/* ===== Футер: привести цвет к фирменному тону сайта ===== */
footer,
footer p,
footer small { color: #1A1E21; }

footer a,
footer .link-secondary { /* правая ссылка "Карта сайта" и т.п. */
  color: #1A1E21;
  text-decoration: none;
}
footer a:hover,
footer a:focus-visible {
  color: #1A1E21;
  text-decoration: underline;
  text-underline-offset: .2rem;
  text-decoration-thickness: 1px;
}

/* bootstrap задаёт secondary с !important — перебиваем локально только в футере */
footer .text-body-secondary { color: #1A1E21 !important; }



/* === Offcanvas: верхний уровень меню — подчёркивание ТОЛЬКО при наведении/клике ===
   Условия:
   1) НЕ подчёркивать текущую страницу (.active / [aria-current="page"])
   2) Подчёркивать только на :hover и во время клика (:active)
   3) Если дропдаун раскрыт (aria-expanded="true") — НЕ подчёркивать
*/

/* База: верхние ссылки без подчёркивания по умолчанию */
#offcanvasNavbar .navbar-nav > .nav-item > .nav-link {
  text-decoration: none;
}

/* (1) Снимаем подчёркивание с "текущей страницы" */
#offcanvasNavbar .navbar-nav > .nav-item > .nav-link.active,
#offcanvasNavbar .navbar-nav > .nav-item > .nav-link[aria-current="page"] {
  text-decoration: none;
}

/* Если ранее подчёркивали родителя через :has() — выключаем */
#offcanvasNavbar .nav-item.dropdown:has(.dropdown-menu .dropdown-item.active) > .nav-link,
#offcanvasNavbar .nav-item.dropdown:has(.dropdown-menu .dropdown-item[aria-current="page"]) > .nav-link {
  text-decoration: none;
}

/* (2) Подчёркивание только на hover и во время клика */
#offcanvasNavbar .navbar-nav > .nav-item > .nav-link:hover,
#offcanvasNavbar .navbar-nav > .nav-item > .nav-link:active {
  text-decoration: underline;
  text-underline-offset: .2rem;
  text-decoration-thickness: 1px;
}

/* (3) Когда раздел раскрыт — не подчёркивать даже при hover/active */
#offcanvasNavbar .nav-item.dropdown > .nav-link[aria-expanded="true"],
#offcanvasNavbar .nav-item.dropdown > .nav-link[aria-expanded="true"]:hover,
#offcanvasNavbar .nav-item.dropdown > .nav-link[aria-expanded="true"]:active {
  text-decoration: none;
}
