/* Стилизуем текст меню вместо кнопки */
.menu-text {
  cursor: pointer;
  font-family: Arial, sans-serif;
  font-size: 14px;
  color: #1A1E21; /* было #000 */
  text-decoration: none;
}
.menu-text:hover,
.menu-text:focus-visible {
  text-decoration: underline;
  text-underline-offset: .2rem;
  text-decoration-thickness: 1px;
}

/* Если "Меню" — это .btn.btn-link.menu-text: убираем синий цвет Bootstrap */
.btn.menu-text {
  color: #1A1E21;
  --bs-btn-color: #1A1E21;         /* текст */
  --bs-btn-hover-color: #1A1E21;   /* hover */
  --bs-btn-active-color: #1A1E21;  /* active */
  --bs-btn-focus-shadow-rgb: 26,30,33; /* серое кольцо фокуса вместо синего */
}
.btn.menu-text:hover,
.btn.menu-text:focus,
.btn.menu-text:focus-visible {
  color: #1A1E21;
}

/* Параграфы */
p {
  font-family: Arial, sans-serif;
  font-size: 14px;
}

/* Базовый стек без !important и без глобального селектора */
html, body { font-family: Arial, "Helvetica Neue", Helvetica, Roboto, system-ui, -apple-system, "Segoe UI", sans-serif; }

/* Визуальные размеры заголовков без изменения семантики */


/* Аккордеон: без синего фона и тени */
.accordion-button:focus,
.accordion-button:not(.collapsed) {
  box-shadow: none;
  background-color: transparent;
  border-color: transparent;
}

/* Текст в аккордеоне */
.accordion-text-user {
  font-family: Arial, sans-serif;
  font-size: 14px;
  color: #1A1E21; /* было #000 */
}

/* Вспомогательное */
.octicon { display: inline-block; vertical-align: text-top; fill: currentColor; }
.gist .blob-code { white-space: pre-wrap !important; word-break: break-word; }

.text-menu {
  font-family: Arial, sans-serif;
  font-size: 15px;
}

/* ===== Offcanvas → подменю: только подчёркивание, без заливки и без смены яркости ===== */
#offcanvasNavbar .dropdown-menu {
  /* блокируем стандартные цвета Bootstrap и задаём единый тон */
  --bs-dropdown-link-color: #1A1E21;        /* было #000 */
  --bs-dropdown-link-hover-color: #1A1E21;  /* было #000 */
  --bs-dropdown-link-hover-bg: transparent;
  --bs-dropdown-link-active-color: #1A1E21; /* было #000 */
  --bs-dropdown-link-active-bg: transparent;
}

#offcanvasNavbar .dropdown-menu .dropdown-item {
  color: #1A1E21; /* было #000 */
  text-decoration: none;
  background-color: transparent;
}

#offcanvasNavbar .dropdown-menu .dropdown-item:hover,
#offcanvasNavbar .dropdown-menu .dropdown-item:focus,
#offcanvasNavbar .dropdown-menu .dropdown-item:active,
#offcanvasNavbar .dropdown-menu .dropdown-item.active,
#offcanvasNavbar .dropdown-menu .dropdown-item:focus-visible {
  color: #1A1E21; /* было #000 */
  background-color: transparent;
  text-decoration: underline;
  text-underline-offset: .2rem;
  text-decoration-thickness: 1px;
}

/* ===== Ссылки в тексте =====
   Используй класс .text-link на тексте статьи: <a class="text-link" ...> */
a.text-link {
  color: #1A1E21; /* было #000 */
  text-decoration: none;
}
a.text-link:hover,
a.text-link:focus-visible {
  text-decoration: underline;
  text-underline-offset: .2rem;
  text-decoration-thickness: 1px;
}

/* ===== Футер: привести цвет к фирменному тону сайта ===== */
footer,
footer p,
footer small { color: #1A1E21; }

footer a,
footer .link-secondary { /* правая ссылка "Карта сайта" и т.п. */
  color: #1A1E21;
  text-decoration: none;
}
footer a:hover,
footer a:focus-visible {
  color: #1A1E21;
  text-decoration: underline;
  text-underline-offset: .2rem;
  text-decoration-thickness: 1px;
}

/* bootstrap задаёт secondary с !important — перебиваем локально только в футере */
footer .text-body-secondary { color: #1A1E21 !important; }



/* === Offcanvas: верхний уровень меню — подчёркивание ТОЛЬКО при наведении/клике ===
   Условия:
   1) НЕ подчёркивать текущую страницу (.active / [aria-current="page"])
   2) Подчёркивать только на :hover и во время клика (:active)
   3) Если дропдаун раскрыт (aria-expanded="true") — НЕ подчёркивать
*/

/* База: верхние ссылки без подчёркивания по умолчанию */
#offcanvasNavbar .navbar-nav > .nav-item > .nav-link {
  text-decoration: none;
}

/* (1) Снимаем подчёркивание с "текущей страницы" */
#offcanvasNavbar .navbar-nav > .nav-item > .nav-link.active,
#offcanvasNavbar .navbar-nav > .nav-item > .nav-link[aria-current="page"] {
  text-decoration: none;
}

/* Если ранее подчёркивали родителя через :has() — выключаем */
#offcanvasNavbar .nav-item.dropdown:has(.dropdown-menu .dropdown-item.active) > .nav-link,
#offcanvasNavbar .nav-item.dropdown:has(.dropdown-menu .dropdown-item[aria-current="page"]) > .nav-link {
  text-decoration: none;
}

/* (2) Подчёркивание только на hover и во время клика */
#offcanvasNavbar .navbar-nav > .nav-item > .nav-link:hover,
#offcanvasNavbar .navbar-nav > .nav-item > .nav-link:active {
  text-decoration: underline;
  text-underline-offset: .2rem;
  text-decoration-thickness: 1px;
}

/* (3) Когда раздел раскрыт — не подчёркивать даже при hover/active */
#offcanvasNavbar .nav-item.dropdown > .nav-link[aria-expanded="true"],
#offcanvasNavbar .nav-item.dropdown > .nav-link[aria-expanded="true"]:hover,
#offcanvasNavbar .nav-item.dropdown > .nav-link[aria-expanded="true"]:active {
  text-decoration: none;
}

/* Offcanvas backdrop: сделать затемнение почти прозрачным */
.offcanvas-backdrop {
  --bs-backdrop-bg: #000;
  --bs-backdrop-opacity: .07; /* было .08 */
}

/* Фолбэк на случай, если переменная не подхватится */
.offcanvas-backdrop.show { opacity: .07; } /* было .08 */

/* ================== Headings Scale (fluid) ================== */
/* Базовые параметры для заголовков */
:root {
  --heading-font: Arial, "Helvetica Neue", Helvetica, Roboto, system-ui, -apple-system, "Segoe UI", sans-serif;
  --heading-weight: 600;            /* полужирный; будет синтезирован как bold для Arial */
  --heading-color: #1A1E21;         /* ваш фирменный тон */
  --leading-tight: 1.2;             /* h1–h2 */
  --leading-normal: 1.3;            /* h3–h6 */
  --h-mt: 1.2em;                    /* отступ сверху */
  --h-mb: 0.5em;                    /* отступ снизу */
}

/* Общие правила для всех заголовков */
/* ===== Headings XS scale (ещё меньше) ===== */
:root{
  --heading-color:#1A1E21;
  --leading-tight:1.15;   /* h1–h2 */
  --leading-normal:1.22;  /* h3–h6 */
  --h-mt:0.9em;           /* верхний отступ */
  --h-mb:0.35em;          /* нижний отступ */
}

h1, h2, h3, h4, h5, h6{
  font-family: Arial, "Helvetica Neue", Helvetica, Roboto, system-ui, -apple-system, "Segoe UI", sans-serif;
  font-weight: 600;
  color: var(--heading-color);
  margin-block: var(--h-mt) var(--h-mb);
  line-height: var(--leading-normal);
}
h1, h2 { line-height: var(--leading-tight); }

/* МЕНЬШЕ, ЧЕМ В ВАШЕМ ПРИМЕРЕ */
h1, h1#page-title { font-size: clamp(1.375rem, 1.00rem + 0.70vw, 1.75rem); } /* 22→28 */
h2 { font-size: clamp(1.25rem, 0.98rem + 0.55vw, 1.50rem); }                 /* 20→24 */
h3 { font-size: clamp(1.125rem, 0.95rem + 0.40vw, 1.3125rem); }              /* 18→21 */
h4 { font-size: clamp(1.0625rem, 0.93rem + 0.30vw, 1.1875rem); }             /* 17→19 */
h5 { font-size: clamp(1.00rem, 0.92rem + 0.20vw, 1.0625rem); }               /* 16→17 */
h6 { font-size: clamp(0.9375rem, 0.91rem + 0.10vw, 1.00rem); }               /* 15→16 */

/* Фолбэк на случай отсутствия clamp */
@supports not (font-size: clamp(1rem, 1vw, 2rem)) {
  h1, h1#page-title { font-size: 1.625rem; } /* 26px */
  h2 { font-size: 1.375rem; }                /* 22px */
  h3 { font-size: 1.1875rem; }               /* 19px */
  h4 { font-size: 1.0625rem; }               /* 17px */
  h5 { font-size: 1rem; }                    /* 16px */
  h6 { font-size: 0.9375rem; }               /* 15px */
}

